status: ready
created_at: 2026-01-12T05:58:00Z
updated_at: 2026-01-12T06:03:00Z

title: Nunchuck CLI Consolidation

objective: |
  Consolidate the nunchuck CLI to be a globally-installed tool that manages
  agent skills with adapter generation, validation, and installation.
  
  The CLI is for consuming and managing skills, not authoring.

constraints:
  - Must be globally installable (pip install)
  - Must keep original skills safe in read-only global location
  - Must support multiple IDE adapters (Windsurf, Cursor)
  - Must integrate existing shell scripts into Python CLI
  - Must work cross-platform (Unix + Windows)
  - Standardize terminology on "skills" (not "packs")

decisions:
  global_store: |
    ~/.nunchuck/skills/ â€” created automatically on first CLI use or pip install.
    No explicit init command needed. Store is read-only reference for projects.
  init_command: |
    Reserved for future config needs. Not required for basic operation.
    nunchuck auto-creates global store on first use.
  adapter_generation: |
    Auto-detect .windsurf/ or .cursor/ in target project and generate.
    Also provide explicit flags: --windsurf, --cursor, etc.
  terminology: Use "skills" consistently, deprecate "packs"
  authoring: Out of scope for now; consumption and management only
  prune: Not needed; overwrite on install is sufficient

assumptions:
  - The existing CLI structure (src/nunchuck/) is the foundation
  - Shell scripts in scripts/adapter/ will be migrated to Python
  - Skills are installed to target projects, not modified in place
  - Global store at ~/.nunchuck/skills/ is portable (Unix + Windows)

open_questions: []

current_state:
  existing_commands:
    - list: Discover skills in a directory
    - validate: Validate skill against spec
    - install: Copy skill to project's .nunchuck/packs/
    - uninstall: Remove skill from project

  separate_scripts:
    - scripts/adapter/windsurf.sh: Generate Windsurf workflows from skills
    - scripts/adapter/cursor.sh: Generate Cursor rules from skills
    - scripts/index/index.sh: Generate agent-optimized index

  gaps:
    - Adapter generation not in CLI
    - Index generation not in CLI
    - No global skill store implementation
    - "packs" terminology needs migration to "skills"

proposed_commands:
  # Global skill management
  - name: add
    desc: Add skill to global store (from local path or remote)
  - name: remove
    desc: Remove skill from global store
  - name: list
    desc: List skills (in global store or target project)
  - name: validate
    desc: Validate skill against Agent Skills spec
  
  # Project operations
  - name: use
    desc: Use skill in project (references global store + auto-generate adapters)
  - name: drop
    desc: Remove skill from project
  
  # Adapter generation
  - name: adapter
    desc: Generate IDE adapters (--windsurf, --cursor, or auto-detect)
  
  # Utilities
  - name: index
    desc: Generate agent-optimized .INDEX.md for skills

behavior:
  global_store_creation: |
    ~/.nunchuck/skills/ is created automatically on first CLI invocation.
    No explicit init required. The store is the read-only source of truth.
